<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace=admin/base::layout(~{::section})>
<head>
<meta charset="UTF-8">
<title >category page</title>
</head>
<body>

   <section>
           <div class="container-fluid p-4 mt-0">
        <div class="row ">
            <div class="col-md-4">
                <div class="card card-shl">
                    <div class="card-header text-center fs-4" style="font-weight: bold;font-size: 20px">Add Category</div>
                    <div class="card-body">
                    <div th:if="${session.message}" class="container text-center">
        
                               <div th:classappend="${'alert-'+session.message.type}" class="alert  text-center my-1" role="alert">
          
                                  <span th:text="${session.message.contect}"></span>
                                  <th:block th:text="${@sessionHelper.removeSessionFromHelper()}"></th:block>
                              
                              </div>

                           </div>
                        <form action="" th:action="@{/admin/handleAdminCategory}" method="post" enctype="multipart/form-data">
                            <div class="mb-3">
                                <label for="category" class="form-label">Enter Category</label>
                                <input type="text" id="category" name="category" class="form-control" required >
                            </div>
                           
                            <div class="mb-3">
                               <div class="form-check">
								  <input class="form-check-input" type="radio" value="true" name="isActive" id="active" checked >
								  <label class="form-check-label" for="flexRadioDefault1">
								    active
								  </label>
								</div>
								<div class="form-check">
								  <input class="form-check-input" type="radio" value="false"  name="isActive" id="inactive" >
								  <label class="form-check-label" for="flexRadioDefault2">
								    inactive
								  </label>
								</div>
							 </div>
                            <div class="mb-3">
                                <label for="image" class="form-label">Upload Image</label>
                                <input type="file" id="image" name="file" class="form-control">
                            </div>
                            <div class="mb-1 text-center">
                                <button type="submit" class="btn btn-warning form-control text-white">Add</button>
                            </div>
                            <div class="text-center">
                             <a th:href="@{/admin/}"class="form-control btn btn-secondary">Back</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            
            <!-- next part -->
            
            <div class="col-md-8">
                <h2 class="text-center mb-1 form-control bg-primary text-white"style="font-weight: bold;font-size: 20px">Category Details</h2>
                <table class="table table-bordered table-hover ">
                    <thead class="thead-dark">
                        <tr>
                        <th>SL No.</th>
                            <th>Category</th>
                            <th>Image</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                    <th:block th:each="cat,c: ${categories}">
                        <tr>
                            <td > [[${c.count}]] </td>
                            <td >[[${cat.category}]]</td>
                            <td><img src="" th:src="@{'/img/category_img/'+ ${cat.imagecategory}}"
                                    class="img-fluid" alt="Product 1"style="width: 60px;height: 80px" ></td>
                            <td>
                               <a href="" th:href="@{'/admin/updatecategory/'+${cat.id}}"  class="btn btn-primary"><i class="fa-regular fa-pen-to-square"></i>  Edit </a>
                               <a href="" th:href="@{'/admin/deletecategory/'+${cat.id}}" class="btn btn-danger"><i class="fa-regular fa-trash-can"></i> Delete</a> 
                            </td>
                        </tr>
                        
                        </th:block>
                       
                        <!-- Add more rows as needed -->
                    </tbody>
                </table>
            </div>
            
        </div>
    </div>
   </section>

</body>
</html>